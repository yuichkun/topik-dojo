# TOPIK道場アプリ 要件定義書

## 概要
TOPIK（韓国語能力試験）対策専用の単語帳アプリ。日本人韓国語学習者をターゲットとし、効率的な語彙学習とテスト対策を提供する。

## 基本仕様

### 対象ユーザー
- 日本人韓国語学習者
- TOPIK各級受験予定者

### 技術仕様
- **プラットフォーム**: React Native (iOS/Android対応)
- **データ保存**: 全データアプリ内蔵方式
- **アプリサイズ**: 約400MB（語彙データ + 音声含む）

## 語彙データ仕様

### 各級別語彙数
| 級 | 語彙数 | ユニット数 | 備考 |
|---|---|---|---|
| 1級 | 400語 | 40ユニット | 基礎語彙 |
| 2級 | 1,400語 | 140ユニット | 初級完成 |
| 3級 | 2,000語 | 200ユニット | 中級前半 |
| 4級 | 2,000語 | 200ユニット | 中級後半 |
| 5級 | 3,000語 | 300ユニット | 高級前半 |
| 6級 | 3,000語 | 300ユニット | 高級後半 |
| **合計** | **12,000語** | **1,180ユニット** | |

### 単語データ構成
- 韓国語単語（ハングル表記のみ、フリガナなし）
- 日本語訳（タップで表示）
- 韓国語例文（ハングル表記のみ）
- 日本語例文訳（タップで表示）
- 韓国語単語音声
- 韓国語例文音声

### ユニット構成
- 1ユニット = 10問
- ジャンル固定なし（意図的にばらつかせる）
- **進捗表示**: なし（シンプルなユニット番号のみ）

## 画面フロー・ナビゲーション

### 基本画面遷移
詳細な画面遷移図とシーケンスは **[design/screen-flows.md](./design/screen-flows.md)** を参照

1. **トップ画面** → 級選択 or 復習選択
2. **級選択後** → 学習モード選択画面（学習/テスト/成績）
3. **学習選択** → ユニット選択 → 学習画面
4. **テスト選択** → テストモード選択（リスニング/リーディング） → テストユニット選択 → テスト画面 → 答え確認
5. **復習選択** → 復習画面（直接復習開始）

## 機能要件

### 学習モード
- カード形式での語彙学習
- **音声再生機能**: 常に自動再生 + 手動再生ボタン
- 意味・例文のタップ表示
- **マーク機能**: 復習対象としてマークするボタン配置

### テストモード
- **リーディングテスト**: 韓国語→日本語4択
- **リスニングテスト**: 音声→日本語4択
- **選択肢生成**: 可能であれば似た意味の単語、困難な場合は同級ランダム選択
- 答え確認画面

### 復習モード ⭐
- **簡易SRSシステム**: 「覚えた/覚えてない」の2択フィードバック
- 基本的な間隔制御（1日後 → 3日後 → 1週間後 → 2週間後など）
- **出題順序**: 復習優先度順（忘れやすい単語を先に）
- テスト間違い問題の復習
- 学習モードでマークした問題の復習

### 成績確認
- **表示内容**: リスニング/リーディング正答率
- **現在の表示**: 円グラフ
- **将来対応**: 日毎進捗の折れ線グラフ、積み重ね式グラフ
- **データ構造**: 日時別テスト結果を記録（将来のグラフ拡張対応）

## データ作成方針

### 語彙リスト取得
- **信頼できるサイトからスクレイピング** ⚠️ 【要調査】具体的なサイト選定が必要
- 著作権配慮（単語リストのみ）

### コンテンツ生成
- **意味・例文**: LLMで生成
- **音声**: Eleven Labs等のAI音声
- バッチ処理で大量生成

## 未確定事項

### マネタイズ方針
**広告収入** - 広告実装を検討中（未確定）

#### 広告実装詳細
- **主要選択肢**: AdMob, Facebook Audience Network
- **収益分配**: 開発者70-80%, 広告ネットワーク20-30%
- **ストア手数料**: 広告収入には適用されない
- **制約**: 過度な表示は審査リスク, プライバシー規制対応必須
- **支払い**: 月次, 最低支払額あり（AdMob: $100）

### 通知機能
**ローカル通知でバッジ表示** - 復習必要単語数をアプリアイコンに表示
- サーバー不要（オフライン完結）
- SRSアルゴリズムをアプリ内で計算
- AsyncStorage + React Native Push Notification使用

#### 通知の制限事項
- **リアルタイム更新不可**: アプリ未起動時はバッジ更新されない
- **更新タイミング**: 
  - アプリ起動時に正確な数に更新
  - 復習予定時間の通知でバッジ表示
  - Background App Refresh有効時は限定的にバックグラウンド更新

### リリース計画
**一括リリース** - 全機能を含めた完成版をリリース

---
*最終更新: 2025/6/13*