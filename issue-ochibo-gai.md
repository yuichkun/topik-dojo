# 落ち穂拾い - TopScreen実装の残タスク

issue #2 で元々計画されていたTopScreen実装のうち、PR #15で完了できなかった残りのタスクをまとめます。

## 🚨 高優先度タスク

### 1. データベース統合
- [ ] SQLite設定とschema実装 (`docs/database-design.md`参照)
- [ ] SRS_MANAGEMENTテーブルからの復習数計算
- [ ] モックデータ除去、実データ取得実装
- [ ] サンプル語彙データでのテスト

### 2. ナビゲーションシステム
- [ ] React Navigation stack設定
- [ ] 実際の画面遷移実装（Alert除去）
- [ ] 学習モード選択画面 (`02-learning-mode-selection.md`) への遷移
- [ ] 復習画面 (`11-review.md`) への遷移
- [ ] 選択された級のパラメータ渡し

## ⚠️ 中優先度タスク

### 3. SRSシステム
- [ ] Anki SM-2アルゴリズム実装
- [ ] 本日の復習対象フィルタリング
- [ ] 復習優先度計算
- [ ] 習得レベル追跡

### 4. エラーハンドリング・ローディング状態
- [ ] データベース接続エラー処理
- [ ] 復習数計算中のローディングスピナー
- [ ] オフラインデータ検証
- [ ] 適切なエラーメッセージ表示

## 🔧 低優先度タスク

### 5. 通知システム
- [ ] アプリアイコンバッジ実装
- [ ] ローカルプッシュ通知設定
- [ ] バックグラウンド更新

### 6. パフォーマンス最適化
- [ ] 復習数キャッシング
- [ ] 起動時間最適化（2秒以内の要件）
- [ ] バックグラウンド計算

## 📋 関連仕様書
- `docs/screens/01-top.md` - TopScreen詳細仕様
- `docs/database-design.md` - データベース設計
- `docs/screen-flows.md` - 画面遷移フロー
- `requirements.md` - 基本要件

## 実装完了状況
- ✅ UI実装 (100%)
- ✅ テストカバレッジ (100%)
- 🚨 データベース統合 (0%)
- 🚨 ナビゲーション (0%)
- 🚨 SRS計算 (0%)

**ref**: #2

## 次のステップ
1. 高優先度タスクから着手
2. データベース統合を最優先で実装
3. ナビゲーション設定後、各画面への遷移テスト
4. 段階的にSRSシステムを統合

## 推定工数
- データベース統合: 2-3日
- ナビゲーション実装: 1-2日
- SRSシステム: 3-4日
- エラーハンドリング: 1日
- 通知システム: 1-2日
- パフォーマンス最適化: 1-2日

**合計推定工数**: 9-15日